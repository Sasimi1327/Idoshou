import{S as n}from"./sweetalert2.all-44a0333f.js";import{_ as u,o as a,d as m,e as o,F as _,B as y,i as e,t,C as g,h}from"./index-6cda0ccb.js";const{VITE_URL:b,VITE_PATH:f}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"sasimi1327",BASE_URL:"/Idoshou/",MODE:"production",DEV:!1,PROD:!0},w={data(){return{createAt:"",orderId:"",products:[],total:0,user:{},msg:"",is_paid:!1}},methods:{getOrder(){const{id:i}=this.$route.params,r=`${b}/api/${f}/order/${i}`;this.$http.get(r).then(s=>{var c;this.createAt=s.data.order.create_at,this.orderId=s.data.order.id,this.products=s.data.order.products,this.total=s.data.order.total,this.user=s.data.order.user,this.msg=(c=s.data.order)==null?void 0:c.message,this.is_paid=s.data.order.is_paid}).catch(s=>{n.fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:1500})})},payOrder(){const{id:i}=this.$route.params,r=`${b}/api/${f}/pay/${i}`;this.$http.post(r).then(s=>{s.data.success?(this.$router.push({name:"pay-complete",params:{id:i}}),n.fire({position:"top-end",icon:"success",color:"#C0362D",toast:!0,text:"付款成功",showConfirmButton:!1,timer:1500})):n.fire({position:"top-end",icon:"error",title:s.data.message,showConfirmButton:!1,timer:1500})}).catch(s=>{n.fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:1500})})}},mounted(){this.getOrder()}},z=h('<div class="container-fluid header-picture d-flex flex-column justify-content-center"><div class="container"><ul class="row list-unstyled mb-0 justify-content-center align-items-center border border-1 border-dark text-center align-top"><li class="col-2 py-3 fz-6 word-nowrap text-primary"> Step.1 <div>購物車</div></li><li class="col-1 py-3 fz-6 text-primary"><i class="fa-solid fa-arrow-right"></i></li><li class="col-2 py-3 fz-6 word-nowrap text-primary"> Step.2 <div>訂單資訊</div></li><li class="col-1 py-3 fz-6 text-primary"><i class="fa-solid fa-arrow-right"></i></li><li class="col-2 py-3 fz-6 word-nowrap text-primary"> Step.3 <div>確認訂單</div></li><li class="col-1 py-3 fz-6 text-grey-66 opacity-50"><i class="fa-solid fa-arrow-right"></i></li><li class="col-2 py-3 fz-6 word-nowrap text-grey-66 opacity-50"> Step.4 <div>完成訂單</div></li></ul></div></div>',1),v={class:"container my-10 mb-md-20"},x=o("div",{class:"text-center pt-10 mb-6"},[o("h2",{class:"fz-2 lh-sm fw-normal"},"訂單資訊")],-1),k=h('<div class="d-none d-md-block"><ul class="row list-unstyled py-4 mb-0 border border-2 border-bottom-0 border-grey-66 fw-bold"><li class="col-md-6 text-center">商品資訊</li><li class="col-md-2">單件計價</li><li class="col-md-2">產品數量</li><li class="col-md-2">金額小計</li></ul></div>',1),C={class:"col-md-6 mb-4 mb-md-0"},T=["src","alt"],V={class:"col-md-2 mb-4 mb-md-0"},B=o("span",{class:"d-md-none fz-6 align-middle"},"單件計價：",-1),O={class:"col-md-2 mb-4 mb-md-0"},S=o("span",{class:"d-md-none fz-6 align-middle"},"數量：",-1),$={class:"col-md-2 mb-4 mb-md-0"},E=o("span",{class:"d-md-none fz-6 align-middle"},"金額小計：",-1),I={class:"row align-items-center mt-4"},A={class:"col-12 text-end fz-5 fw-normal"},N=o("span",{class:"fz-4 fw-bold mr-3"},"總計金額：",-1),D=o("div",{class:"text-center pt-10 mb-6"},[o("h2",{class:"fz-2 lh-sm fw-normal"},"確認訂單")],-1),j={class:"row align-items-center list-unstyled px-8 py-2 mb-0 border border-2 mb-n-1px border-grey-66 position-relative"},L=o("li",{class:"col-md-6 d-none d-md-block fz-5 fw-bold my-4 p-4 border-bottom border-grey-d4 align-middle"}," 訂單時間 ",-1),R={class:"col-md-6 p-4 border-bottom border-grey-d4 fz-5"},U=o("span",{class:"d-inline-block d-md-none fz-5 align-middle"},"訂單時間：",-1),H=o("li",{class:"col-md-6 d-none d-md-block fz-5 fw-bold my-4 p-4 border-bottom border-grey-d4 align-middle"}," 訂單編號 ",-1),P={class:"col-md-6 p-4 border-bottom border-grey-d4 fz-5"},F=o("span",{class:"d-inline-block d-md-none fz-5 align-middle"},"訂單編號：",-1),M=o("li",{class:"col-md-6 d-none d-md-block fz-5 fw-bold my-4 p-4 border-bottom border-grey-d4 align-middle"}," 收件人姓名 ",-1),q={class:"col-md-6 p-4 border-bottom border-grey-d4 fz-5"},G=o("span",{class:"d-inline-block d-md-none fz-5 align-middle"},"收件人姓名：",-1),J=o("li",{class:"col-md-6 d-none d-md-block fz-5 fw-bold my-4 p-4 border-bottom border-grey-d4 align-middle"}," 電子郵件 ",-1),K={class:"col-md-6 p-4 border-bottom border-grey-d4 fz-5"},Q=o("span",{class:"d-inline-block d-md-none fz-5 align-middle"},"電子郵件：",-1),W=o("li",{class:"col-md-6 d-none d-md-block fz-5 fw-bold my-4 p-4 border-bottom border-grey-d4 align-middle"}," 收件人電話 ",-1),X={class:"col-md-6 p-4 border-bottom border-grey-d4 fz-5"},Y=o("span",{class:"d-inline-block d-md-none fz-5 align-middle"},"收件人電話：",-1),Z=o("li",{class:"col-md-6 d-none d-md-block fz-5 fw-bold my-4 p-4 border-bottom border-grey-d4 align-middle"}," 收件人地址 ",-1),oo={class:"col-md-6 p-4 border-bottom border-grey-d4 fz-5"},so=o("span",{class:"d-inline-block d-md-none fz-5 align-middle"},"收件人地址：",-1),eo=o("li",{class:"col-md-6 d-none d-md-block fz-5 fw-bold my-4 align-middle"}," 留言 ",-1),to={class:"col-md-6 p-4 fz-6"},lo=o("span",{class:"d-inline-block d-md-none fz-5 align-middle"},"留言：",-1),io={class:"text-end mt-10"},ro=o("i",{class:"fa-solid fa-clipboard-check mr-1"},null,-1);function no(i,r,s,c,l,p){return a(),m(_,null,[z,o("div",v,[x,o("div",null,[k,(a(!0),m(_,null,y(l.products,d=>(a(),m("div",{class:"row justify-content-center align-items-center list-unstyled p-4 mb-0 border border-2 mb-n-1px border-grey-66 position-relative",key:d.id},[o("li",C,[o("img",{src:d.product.imageUrl,class:"img-fluid w-40 h-40 object-fit-cover mr-5",alt:d.product.title},null,8,T),e(" "+t(d.product.title),1)]),o("li",V,[B,e(" NT$ "+t(d.product.price),1)]),o("li",O,[S,e(" "+t(d.qty),1)]),o("li",$,[E,e(" NT$ "+t(d.final_total),1)])]))),128)),o("div",I,[o("div",A,[N,e(" NT$ "+t(this.total),1)])])]),D,o("div",null,[o("ul",j,[L,o("li",R,[U,e(" "+t(i.$filters.date(l.createAt)),1)]),H,o("li",P,[F,e(" "+t(l.orderId),1)]),M,o("li",q,[G,e(" "+t(l.user.name),1)]),J,o("li",K,[Q,e(" "+t(l.user.email),1)]),W,o("li",X,[Y,e(" "+t(l.user.tel),1)]),Z,o("li",oo,[so,e(" "+t(l.user.address),1)]),eo,o("li",to,[lo,e(" "+t(l.msg),1)])])]),o("div",io,[o("button",{type:"submit",class:"btn btn-primary py-4 px-20 btnCustomHover fw-bold",onClick:r[0]||(r[0]=g((...d)=>p.payOrder&&p.payOrder(...d),["prevent"]))},[ro,e(" 確認結帳 ")])])])],64)}const mo=u(w,[["render",no]]);export{mo as default};
