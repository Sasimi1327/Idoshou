import{L as m}from"./index-6bd3d174.js";/* empty css              */import{S as h}from"./sweetalert2.all-e094260c.js";import{P as f}from"./PaginationView-c8d877a1.js";import{_ as w,r as u,o as c,d as l,f as p,e as t,n as a,F as C,B as P,C as b,t as d,i as y}from"./index-2907266f.js";const{VITE_URL:k,VITE_PATH:x}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"sasimi1327",BASE_URL:"/Idoshou/",MODE:"production",DEV:!1,PROD:!0},V={components:{PaginationView:f,LoadingView:m},data(){return{color:"#C0362D",isLoading:!0,category:"全部商品",products:[],selectProduct:{},pagination:{},currentPage:1}},methods:{getProducts(i=1,e=""){this.isLoading=!0,this.$route.query.page&&(this.currentPage=this.$route.query.page,i=this.currentPage,this.$route.query.page=""),this.$route.query.category&&(this.category=this.$route.query.category,e=this.category==="全部商品"?"":this.category,this.$route.query.category=""),this.currentPage=i;const g=`${k}/api/${x}/products?page=${i}&category=${e}`;this.$http.get(g).then(n=>{this.products=n.data.products,this.pagination=n.data.pagination,this.isLoading=!1}).catch(n=>{h.fire({position:"top-end",icon:"error",title:n.response.data.message,showConfirmButton:!1,timer:1500})})},updateCategory(i){this.category=i,i==="全部商品"?this.getProducts():this.getProducts(1,i)},goDetail(i){this.$router.push({name:"product-detail",params:{id:i},query:{page:this.currentPage,category:this.category}})}},mounted(){this.getProducts()}},z={class:"vl-parent"},L={class:"container-fluid header-picture d-flex flex-column justify-content-center"},E={class:"container"},T={class:"row list-unstyled mb-0 justify-content-center align-items-center border border-1 border-dark text-center"},q={class:"container my-10 mb-md-20"},D={class:"row"},B=["onClick"],I={class:"card-img-container"},N=["src","alt"],U={class:"card-body text-start"},$={class:"card-title fz-7 lh-base fw-bold"},M={class:"card-text"},R={key:0},S={class:"text-decoration-none"},A={class:"text-muted fw-bold fz-4"},H={key:1},j={class:"mr-1"},F={class:"text-muted fw-normal fz-6 lh-1"},O={class:"text-decoration-none"},G={class:"text-primary fz-4"},J=t("div",{class:"card-footer border-0 bg-white text-end"},[t("button",{type:"button",class:"w-100 btn btn-primary btnCustomHover stretched-link mb-5"},"加入購物車")],-1);function K(i,e,g,n,s,r){const v=u("LoadingView"),_=u("PaginationView");return c(),l("div",z,[p(v,{active:s.isLoading,"onUpdate:active":e[0]||(e[0]=o=>s.isLoading=o),"can-cancel":!1,color:s.color,loader:"bars","is-full-page":!0},null,8,["active","color"]),t("div",L,[t("div",E,[t("div",T,[t("div",{class:a(["col category word-nowrap py-3 fz-6",{active:s.category==="全部商品"}]),value:"全部商品",onClick:e[1]||(e[1]=o=>r.updateCategory("全部商品"))}," 全部商品 ",2),t("div",{class:a(["col category word-nowrap py-3 fz-6",{active:s.category==="新品上市"}]),value:"新品上市",onClick:e[2]||(e[2]=o=>r.updateCategory("新品上市"))}," 新品上市 ",2),t("div",{class:a(["col category word-nowrap py-3 fz-6",{active:s.category==="主廚推薦"}]),value:"主廚推薦",onClick:e[3]||(e[3]=o=>r.updateCategory("主廚推薦"))}," 主廚推薦 ",2),t("div",{class:a(["col category word-nowrap py-3 fz-6",{active:s.category==="暢銷商品"}]),value:"暢銷商品",onClick:e[4]||(e[4]=o=>r.updateCategory("暢銷商品"))}," 暢銷商品 ",2),t("div",{class:a(["col category word-nowrap py-3 fz-6",{active:s.category==="主菜尚品"}]),value:"主菜尚品",onClick:e[5]||(e[5]=o=>r.updateCategory("主菜尚品"))}," 主菜尚品 ",2),t("div",{class:a(["col category word-nowrap py-3 fz-6",{active:s.category==="經典名菜"}]),value:"經典名菜",onClick:e[6]||(e[6]=o=>r.updateCategory("經典名菜"))}," 經典名菜 ",2),t("div",{class:a(["col category word-nowrap py-3 fz-6",{active:s.category==="點心飲品"}]),value:"點心飲品",onClick:e[7]||(e[7]=o=>r.updateCategory("點心飲品"))}," 點心飲品 ",2),t("div",{class:a(["col category word-nowrap py-3 fz-6",{active:s.category==="精緻餐盒"}]),value:"精緻餐盒",onClick:e[8]||(e[8]=o=>r.updateCategory("精緻餐盒"))}," 精緻餐盒 ",2)])])]),t("div",q,[t("div",D,[(c(!0),l(C,null,P(s.products,o=>(c(),l("div",{class:"col-md-6 col-lg-3 mb-8 overflow-hidden",key:o.id},[t("div",{class:"card h-100 animate__animated swing-animate",onClick:b(Q=>r.goDetail(`${o.id}`),["prevent"])},[t("div",I,[t("img",{src:o.imageUrl,class:"card-img-top productImg",alt:o.id},null,8,N)]),t("div",U,[t("h5",$,d(o.title),1),t("p",M,[o.price===o.origin_price?(c(),l("span",R,[y(" NT$ "),t("ins",S,[t("span",A,d(o.price),1)])])):(c(),l("span",H,[y(" NT$ "),t("s",j,[t("span",F,d(o.origin_price),1)]),t("ins",O,[t("span",G,d(o.price),1)])]))])]),J],8,B)]))),128))])]),p(_,{pages:s.pagination,onEmitPage:r.getProducts},null,8,["pages","onEmitPage"])])}const et=w(V,[["render",K]]);export{et as default};
