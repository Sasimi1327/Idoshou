import{L as u}from"./index-6bd3d174.js";/* empty css              */import{c as l}from"./cart-35a250e2.js";import{_ as m,b as p,m as _,r as h,o as g,d as f,f as b,e as t,t as i,i as y,bu as v,bl as x,C as w}from"./index-2907266f.js";import{S as a}from"./sweetalert2.all-e094260c.js";const{VITE_URL:C,VITE_PATH:P}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"sasimi1327",BASE_URL:"/Idoshou/",MODE:"production",DEV:!1,PROD:!0},T={data(){return{color:"#C0362D",isLoading:!1,menuPage:"",menuCategory:"",selectProduct:{},qty:1}},watch:{isAddToCart(){this.isAddToCart||(a.fire({position:"top-end",icon:"success",text:"已加入購物車",color:"#C0362D",toast:!0,width:300,showConfirmButton:!1,timer:1500,showClass:{popup:"animate__animated animate__fadeInRight"},hideClass:{popup:"animate__animated animate__fadeOutRight"}}),this.goMenu())},loading(){this.isLoading=this.loading}},computed:{...p(l,["isAddToCart","loading"])},methods:{..._(l,["addToCart"]),getProduct(){this.isLoading=!0;const{id:r}=this.$route.params,s=`${C}/api/${P}/product/${r}`;this.$http.get(s).then(n=>{this.selectProduct=n.data.product,this.isLoading=!1}).catch(n=>{a.fire({position:"top-end",icon:"error",title:n.response.data.message,showConfirmButton:!1,timer:1500,showClass:{popup:"animate__animated animate__fadeInRight"}})})},goMenu(){this.menuPage=this.$route.query.page,this.menuCategory=this.$route.query.category,this.$router.push({name:"product-list",query:{page:this.menuPage===""?"":this.menuPage,category:this.menuCategory===""?"":this.menuCategory}})}},components:{LoadingView:u},mounted(){this.getProduct()}},L={class:"vl-parent"},V={class:"container mb-6 mb-md-10"},q={class:"card mb-3",style:{}},z={class:"row g-0"},D={class:"col-md-5"},E=["src","alt"],A={class:"offset-md-1 col-md-6"},I={class:"card-body p-4"},M={class:"d-flex justify-content-between align-items-center"},R={class:"card-subtitle fz-7 fw-normal lh-base opacity-50 text-grey-66"},k={class:"mr-4"},B={class:"card-title fz-2 fw-bold mt-3 text-brown"},S={class:"card-text my-4"},U={class:"card-text"},j={class:"text-decoration-none"},N={class:"text-muted fw-bold fz-3"},O={class:"col-12"},H={class:"card-footer align-items-center row bg-white py-4 mx-auto"},F={class:"col-sm-6 col-md-4 col-lg-3 my-3"},G={class:"d-flex justify-content-center align-items-center"},J={class:"text-center border rounded-circle mx-2"},K=t("i",{class:"fa-solid fa-plus fz-5 lh-base text-primary"},null,-1),Q=[K],W={class:"text-center align-middle lh-base border border-2 border-primary mx-2 d-flex justify-content-center align-items-center",style:{height:"50px",width:"50px"}},X={class:"text-center border rounded-circle mx-2"},Y=t("i",{class:"fa-solid fa-minus fz-5 lh-base text-primary"},null,-1),Z=[Y],$={class:"col-sm-6 col-md-8 col-lg-9 my-3"},tt=t("div",{class:"d-flex justify-content-center align-items-center mt-10 rounded-pill"},[t("div",{class:"border w-100 p-4"},[t("h3",{class:"fz-3"},"餐點注意須知"),t("ul",{class:"mt-8 fz-5"},[t("li",null,"餐點皆為現點現做，請於保存期限內享用，勿隔餐食用。"),t("li",null,"本產品已投保產品責任險。"),t("li",null,"若對某些食材有過敏或不適，請提早告知。")])])],-1);function et(r,s,n,st,e,c){const d=h("LoadingView");return g(),f("div",L,[b(d,{active:e.isLoading,"onUpdate:active":s[0]||(s[0]=o=>e.isLoading=o),"can-cancel":!1,color:e.color,loader:"bars","is-full-page":!0},null,8,["active","color"]),t("div",V,[t("div",q,[t("div",z,[t("div",D,[t("img",{src:e.selectProduct.imageUrl,class:"img-fluid object-fit-cover rounded-start",alt:e.selectProduct.title},null,8,E)]),t("div",A,[t("div",I,[t("div",M,[t("h5",R,i(e.selectProduct.category),1),t("button",{type:"button",class:"btn-close hvr-outline-out fz-4","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"回商品列表",onClick:s[1]||(s[1]=(...o)=>c.goMenu&&c.goMenu(...o))})]),t("div",k,[t("h3",B,i(e.selectProduct.title),1),t("p",S,i(e.selectProduct.description),1),t("p",U,[y(" NT$ "),t("ins",j,[t("span",N,i(e.selectProduct.price),1)])])])])]),t("div",O,[t("div",H,[t("div",F,[t("div",G,[t("div",J,[t("button",{type:"button",class:"icon-btn align-middle",onClick:s[2]||(s[2]=o=>e.qty++)},Q)]),t("div",W,[v(t("input",{type:"text",disabled:"",class:"bg-transparent text-center fz-4 w-60 border-0","onUpdate:modelValue":s[3]||(s[3]=o=>e.qty=o)},null,512),[[x,e.qty]])]),t("div",X,[t("button",{type:"button",class:"icon-btn align-middle",onClick:s[4]||(s[4]=o=>e.qty>1?e.qty--:"")},Z)])])]),t("div",$,[t("button",{type:"button",class:"btn-addCart w-100 btn btn-outline-primary border border-primary rounded-3 bg-transparent border-2 mx-2 py-3 fz-4 fw-bold lh-base","data-hover":"加入購物車",onClick:s[5]||(s[5]=w(()=>r.addToCart(e.selectProduct.id,e.qty),["prevent"]))},[t("span",null," 小計 NT$"+i(e.qty*e.selectProduct.price),1)])])])])])]),tt])])}const lt=m(T,[["render",et]]);export{lt as default};
